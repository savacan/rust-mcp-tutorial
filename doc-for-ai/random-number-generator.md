# 乱数生成MCP Server設計ドキュメント

## 概要

Rust SDKを使用して、乱数を生成するMCP (Model Context Protocol) サーバーを実装します。
このサーバーは、クライアントからのリクエストに応じて様々な範囲の乱数を生成し返却します。

## 機能要件

### 基本機能
- 指定された範囲内の整数乱数の生成
- 浮動小数点数の乱数生成
- 乱数生成のシード値設定（オプション）

### ツール一覧

1. `generate_integer`
   - 説明: 指定された範囲内の整数乱数を生成
   - パラメータ:
     - min: i64 (最小値)
     - max: i64 (最大値)
   - 戻り値: i64 (生成された乱数)

2. `generate_float`
   - 説明: 0.0から1.0の範囲で浮動小数点数の乱数を生成
   - パラメータ: なし
   - 戻り値: f64 (生成された乱数)

3. `set_seed`
   - 説明: 乱数生成のシード値を設定
   - パラメータ:
     - seed: u64 (シード値)
   - 戻り値: bool (設定成功の可否)

## 技術仕様

### 使用ライブラリ
- rmcp: MCPサーバーの実装
- rand: 乱数生成
- tokio: 非同期ランタイム

### プロジェクト構造
```
src/
  ├── main.rs      # エントリーポイント
  ├── server.rs    # サーバー実装
  └── tools/
      └── random.rs # 乱数生成ツール実装
```

### 実装詳細

#### サーバー設定
- デフォルトポート: 3000
- プロトコル: HTTP/WebSocket

#### エラーハンドリング
- 範囲指定が不正な場合のエラー処理
- シード値設定失敗時のエラー処理

## セキュリティ考慮事項
- 入力値のバリデーション
- レート制限の実装（オプション）

## テスト計画
1. ユニットテスト
   - 各ツールの機能テスト
   - エラーケースのテスト

2. 統合テスト
   - サーバー起動/停止テスト
   - クライアント接続テスト

## 今後の拡張可能性
- 複数の乱数分布のサポート
- バッチ処理による複数乱数の一括生成
- 暗号学的に安全な乱数生成オプション
